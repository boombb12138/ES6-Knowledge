##### 函数执行-作用域链

var定义的属性 在window对象里能够找到

#### 在编译阶段遇到函数

1. 开辟新的空间

2. 内部存有父级作用域和该函数的执行体

3. 将新空间的内存地址存到全局对象的函数属性中

   #### 在执行阶段：

   ##### 准备执行阶段

   #### ![Snipaste_2022-03-17_16-59-11](E:\工作\产品经理\JavaScript高级\笔记\class_image\Snipaste_2022-03-17_16-59-11.png)

   1.在调用栈中，创建函数执行上下文栈

   2.创建AO对象，其中包含函数的参数和变量（值都为undefined)和嵌套的函数（值为地址）,

   3.创建嵌套函数的空间

   ![Snipaste_2022-03-18_16-38-58](E:\工作\产品经理\JavaScript高级\笔记\class_image\Snipaste_2022-03-18_16-38-58.png)

   #### 

   ##### 真正执行阶段

   4.真正开始执行函数代码 按顺序将AO对象中函数的参数和变量赋值

   5.若要执行嵌套函数，则创建该函数的执行上下文（其中有AO对象和该函数的执行体）

   #### 函数体执行完毕

   函数执行上下文栈和AO对象都被销毁




##### 查找变量的路径（沿着作用域链查找）

作用域链：当前活跃的对象——>父级作用域一直找到全局对象GO